


<div class="container-fluid bg-light">
 
  <div class="d-flex justify-content-center">
  <p class="fs-6"></p>
  </div>
  <div class="row">
    
    <!--Primeira Camada-->
    <!--Espaçao do menu-->
      <div class="col-3">

          <app-barra-lateral></app-barra-lateral>
       
      </div>
      
      
      
      
      
      
      
          <!--Segunda Camada-->      
          <div class="col-9 ">
         <div class="row">
      <div class="col-7 retangulo card11"> 
  
        
   
        
          
          <div class="row">
            <div class="col-1">
              <img class="foto" src="{{foto}}
           " alt="" width="50px" height="50px"> </div>
            <div class="col-11">
          <div class="card-body "> 
            <div class="centralizar-card">

            <div class="card-cinza bg-light">
            <p class="card-text"></p>
            
          </div>
           
          </div>
          <div class="row">
            <div class="col-2"></div>
            <div class="col-1"></div>
            <div class="box-dos-icons">
          <i class="fas fa-address-card"></i></div>
            <div class="col-8">
          
          
              <div class="separacao"></div>
                
         
                <a class="btn btn-outline-success mr-2" href="#postagens" data-toggle="modal" data-target="#novaPostagem">Postar</a>
           
          
          
          
                </div>
                </div>
      
                </div>
                </div> 
                 </div>   
                  
                
                 </div>

                  <div class="col-5">
                    <app-barra-lateral-direita></app-barra-lateral-direita>
                  </div>

                 </div>  
                
              <div class="separacao-boxs"></div>
    
    
        
      <!--Seg-->  
     
      <!--Todas as postagens-->

  <div class="row" 
  *ngFor="let item of listaPostagens | orderBy : key : reverse 
  ">
  <div class="col-7 ">  
    <div class="postagens-amigos">
       
      <div class="row">
        <div class="col-1"><img src="{{item.usuario.foto }}" alt="" width="40px" class="foto"></div>
        <div class="col-10 nome-amigo">  
            <div class="row">
              <div class="col-md-1 d-flex justify-content-center align-content-center"></div> 
              <p>{{item.usuario.nome}}</p>
              </div>
        
            <div class="d-flex justify-content-center align-content-center texto-postagem">
            <p>{{ item.texto }}</p>
            </div>



                <div class="d-flex justify-content-center">
             
      
          <small class="text-muted">
          {{ item.data | date: "dd/MM/yyyy" }} às
          {{ item.data | date: "HH:mm" }}
        </small>
       
          <p class="card-text">
              <small class="text-muted">
                <button class="btn" (click)='this.getPostagemById(item.id)' (click)='this.curtida(item.id)'><i class="far fa-thumbs-up"></i>
                </button>
                Curtidas :{{item.curtidos}}
                <button class="btn" ><i class="fa fa-thumbs-down"></i></button>
              </small>
          </p>
     </div> 
       <div class="cotainer-imagem-amigo">
         
       <img class="imagem-amigo d-flex justify-content-center" src="" alt=""> 
      
      </div>
     
      </div>  
    </div>  
 

     
    </div>

    </div>  <!--fim das colunas-->
  



  </div><!--Fim de todas as postagens-->
  

  
 
</div>


          </div>  



          <div class="container mb-5 mt-5" id="postagens">

            <nav>
              <div
                class="nav nav-tabs d-flex justify-content-center"
                id="nav-tab"
                role="tablist"
              >
                <a
                  class="nav-item nav-link active text-secondary font-weight-bold"
                  id="nav-todasPostagens-tab"
                  data-toggle="tab"
                  href="#todasPostagens"
                  role="tab"
                  aria-controls="nav-todasPostagens"
                  aria-selected="true"
                  >Todas as Postagens</a
                >
          
                <a
                  class="nav-item nav-link text-secondary font-weight-bold"
                  id="nav-minhasPostagens-tab"
                  data-toggle="tab"
                  href="#minhasPostagens"
                  role="tab"
                  aria-controls="nav-minhasPostagens"
                  aria-selected="false"
                  (click)="findUserById()"
                  >Minhas Postagens</a
                >
          
                <a
                  class="nav-item nav-link text-secondary font-weight-bold"
                  id="nav-postagemTema-tab"
                  data-toggle="tab"
                  href="#postagemTema"
                  role="tab"
                  aria-controls="nav-postagemTema"
                  aria-selected="false"
                  (click)='getAllPostagens()'
                  (click)='getAllTemas()'
                  >Postagens por tema</a
                >
              </div>
            </nav>
        
            <div class="tab-content" id="nav-tabContent">
              <div
                class="tab-pane fade show active"
                id="todasPostagens"
                role="tabpanel"
                aria-labelledby="nav-todasPostagens-tab"
              >
                <!-- ! inicio dos cards de Todas Postagens -->
                <div class="card-columns">
                  <div class="card text-center" *ngFor="let item of listaPostagens">
                    <div class="card-body">
                      <h5 class="card-title m-0">{{ item.titulo }}</h5>
                      <small class="text-muted"> Tema: {{ item.tema.descricao }}</small>
                      <p class="card-text mt-3">{{ item.texto }}</p>
                      <p class="card-text">
                        <small class="text-muted">
                          {{ item.data | date: "dd/MM/yyyy" }} às
                          {{ item.data | date: "HH:mm" }}
                        </small>
                      </p>
          
                      <p class="card-text">
                        <small class="text-muted"> by: {{ item.usuario.nome }} </small>
                      </p>
                    </div>
                  </div>
                </div>
                <!-- ! Fim dos cards de Todas Postagens -->
              </div>
          
              <div
                class="tab-pane fade"
                id="minhasPostagens"
                role="tabpanel"
                aria-labelledby="nav-minhasPostagens-tab"
              >
                <!-- ? Inicio dos cards de Minhas Postagens -->
                <div class="card-columns">
                  <div class="card text-center" *ngFor="let item of usuario.postagem">
                    <div class="card-body">
                      <h5 class="card-title m-0">{{ item.titulo }}</h5>
                      <small class="text-muted"> Tema: {{ item.tema.descricao }}</small>
                      <p class="card-text mt-3">{{ item.texto }}</p>
                      <p class="card-text">
                        <small class="text-muted">
                          {{ item.data | date: "dd/MM/yyyy" }} às
                          {{ item.data | date: "HH:mm" }}
                        </small>
                      </p>
          
                      <a
                        [routerLink]="['/postagem-edit', item.id]"
                        class="btn btn-outline-dark mr-3"
                        >Editar</a
                      >
                      <a
                        [routerLink]="['/postagem-delete', item.id]"
                        class="btn btn-outline-danger"
                        >Apagar</a
                      >
                    </div>
                  </div>
                </div>
                <!-- ? Fim dos cards de Minhas Postagens -->
              </div>
          
              <div
                class="tab-pane fade"
                id="postagemTema"
                role="tabpanel"
                aria-labelledby="nav-postagemTema-tab"
              >
                <!-- ! Inicio dos cards de Postagem por Tema -->
                <div class="card-columns" *ngFor="let tema of listaTemas">
                  <div class="card text-center" *ngFor="let item of tema.postagem">
                    <div class="card-body">
                      <h5 class="card-title m-0">{{ item.titulo }}</h5>
                      <p class="card-text mt-3">{{ item.texto }}</p>
                      <p class="card-text">
                        <small class="text-muted">
                          {{ item.data | date: "dd/MM/yyyy" }} às
                          {{ item.data | date: "HH:mm" }}
                        </small>
                      </p>
          
                      <p class="card-text">
                        <small class="text-muted"> by: {{ item.usuario.nome }} </small>
                      </p>
                    </div>
                  </div>
                </div>
                <!-- ! Fim dos cards de Postagem por Tema -->
              </div>
            </div>
          </div>
          
          <!-- Modal -->
          <div
            class="modal fade"
            id="novaPostagem"
            tabindex="-1"
            role="dialog"
            aria-labelledby="TituloModalCentralizado"
            aria-hidden="true"
          >
            <div class="modal-dialog modal-dialog-centered" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <h5 class="modal-title" id="TituloModalCentralizado">Nova Postagem</h5>
                  <button
                    type="button"
                    class="close"
                    data-dismiss="modal"
                    aria-label="Fechar"
                  >
                    <span aria-hidden="true">&times;</span>
                  </button>
                </div>
                <div class="modal-body">
                  <div class="form-group">
                    <label for="titulo">Título</label>
                    <input
                      type="text"
                      class="form-control"
                      id="titulo"
                      placeholder="Digite o título"
                      [(ngModel)]="postagem.titulo"
                    />
                  </div>
          
                  <div class="form-group">
                    <label for="texto">Texto</label>
                    <textarea
                      class="form-control"
                      name="texto"
                      id="texto"
                      rows="3"
                      [(ngModel)]="postagem.texto"
                    ></textarea>
                  </div>
          
                  <div class="form-group">
                    <label for="texto"
                      >Escolha um tema 
                      <a data-dismiss="modal" routerLink="/tema" *ngIf="auth.admin()">ou cadastre um novo</a>:
                    </label>
                    <select
                      name="tema"
                      id="tema"
                      class="form-control"
                      (change)="findByIdTema()"
                      [(ngModel)]="idTema"
                    >
                      <option *ngFor="let tema of listaTemas" value="{{ tema.id }}">
                        {{ tema.descricao }}
                      </option>
                    </select>
                  </div>
                </div>
                <div class="modal-footer">
                  <button type="button" class="btn btn-danger" data-dismiss="modal">
                    Cancelar
                  </button>
                  <button type="button" class="btn btn-success" (click)="postar()" data-dismiss="modal">
                    Publicar
                  </button>
                </div>
              </div>
            </div>
          </div>